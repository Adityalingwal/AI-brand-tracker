{
  "actorSpecification": 1,
  "name": "ai-brand-tracker",
  "title": "AI Brand Tracker",
  "description": "Track your brand's visibility across AI platforms (ChatGPT, Claude, Gemini, Perplexity). Analyze mentions, citations, and competitive positioning.",
  "version": "1.0.0",
  "buildTag": "latest",
  "meta": {
    "templateId": "python-playwright"
  },
  "input": "./input_schema.json",
  "dockerfile": "../Dockerfile",
  "storages": {
    "dataset": {
      "actorSpecification": 1,
      "title": "AI Brand Visibility Results",
      "description": "Contains prompt results, brand summaries, leaderboards, and run summaries",
      "views": {
        "overview": {
          "title": "Overview",
          "transformation": {
            "fields": [
              "type",
              "brand",
              "visibilityScore",
              "citationShare",
              "totalMentions"
            ]
          },
          "display": {
            "component": "table",
            "properties": {
              "type": { "label": "Type" },
              "brand": { "label": "Brand" },
              "visibilityScore": { "label": "Visibility %" },
              "citationShare": { "label": "Citation Share %" },
              "totalMentions": { "label": "Mentions" }
            }
          }
        },
        "promptResults": {
          "title": "Prompt Results",
          "transformation": {
            "fields": [
              "promptId",
              "platform",
              "promptText",
              "yourBrandMentioned",
              "yourBrandRank",
              "promptWinner"
            ]
          },
          "display": {
            "component": "table",
            "properties": {
              "promptId": { "label": "Prompt ID" },
              "platform": { "label": "Platform" },
              "promptText": { "label": "Prompt" },
              "yourBrandMentioned": { "label": "Your Brand Mentioned" },
              "yourBrandRank": { "label": "Your Rank" },
              "promptWinner": { "label": "Winner" }
            }
          }
        },
        "brandSummaries": {
          "title": "Brand Summaries",
          "transformation": {
            "flatten": ["overallMetrics"],
            "fields": [
              "brand",
              "overallMetrics.visibilityScore",
              "overallMetrics.citationShare",
              "overallMetrics.totalMentions",
              "overallMetrics.promptsWithMention"
            ]
          },
          "display": {
            "component": "table",
            "properties": {
              "brand": { "label": "Brand" },
              "overallMetrics.visibilityScore": { "label": "Visibility Score" },
              "overallMetrics.citationShare": { "label": "Citation Share" },
              "overallMetrics.totalMentions": { "label": "Total Mentions" },
              "overallMetrics.promptsWithMention": {
                "label": "Prompts With Mention"
              }
            }
          }
        }
      },
      "output": {
        "schemaVersion": 1,
        "schema": {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "prompt_result",
                "brand_summary",
                "leaderboard",
                "run_summary",
                "validation_error",
                "error"
              ],
              "description": "Record type"
            },
            "promptId": {
              "type": "string",
              "description": "Unique prompt identifier"
            },
            "promptText": {
              "type": "string",
              "description": "The prompt text sent to AI"
            },
            "platform": {
              "type": "string",
              "description": "AI platform used"
            },
            "platformModel": {
              "type": "string",
              "description": "Specific model used"
            },
            "rawResponse": {
              "type": "string",
              "description": "Raw response from AI platform"
            },
            "mentions": {
              "type": "array",
              "description": "Brand mentions extracted from response",
              "items": {
                "type": "object",
                "properties": {
                  "brand": { "type": "string" },
                  "count": { "type": "integer" },
                  "rank": { "type": "integer" },
                  "context": { "type": "string" },
                  "isRecommended": { "type": "boolean" }
                }
              }
            },
            "citations": {
              "type": "array",
              "items": { "type": "string" },
              "description": "URLs cited in the response"
            },
            "promptWinner": {
              "type": "string",
              "description": "Brand that won this prompt"
            },
            "yourBrandMentioned": {
              "type": "boolean",
              "description": "Whether your brand was mentioned"
            },
            "yourBrandRank": {
              "type": "integer",
              "description": "Rank of your brand in mentions"
            },
            "brand": {
              "type": "string",
              "description": "Brand name for brand_summary records"
            },
            "overallMetrics": {
              "type": "object",
              "description": "Aggregated metrics for a brand",
              "properties": {
                "visibilityScore": { "type": "number" },
                "citationShare": { "type": "number" },
                "totalMentions": { "type": "integer" },
                "promptsWithMention": { "type": "integer" },
                "promptsMissed": { "type": "integer" }
              }
            },
            "platformBreakdown": {
              "type": "object",
              "description": "Per-platform metrics"
            },
            "rankings": {
              "type": "array",
              "description": "Leaderboard rankings",
              "items": {
                "type": "object",
                "properties": {
                  "rank": { "type": "integer" },
                  "brand": { "type": "string" },
                  "visibilityScore": { "type": "number" },
                  "citationShare": { "type": "number" }
                }
              }
            },
            "status": {
              "type": "string",
              "description": "Run status"
            },
            "execution": {
              "type": "object",
              "description": "Execution details"
            },
            "billing": {
              "type": "object",
              "description": "Billing information"
            }
          }
        }
      }
    }
  },
  "pricingModel": {
    "pricingType": "PAY_PER_EVENT",
    "events": [
      {
        "eventName": "prompt-analyzed",
        "displayName": "Prompt Analyzed",
        "pricePerEvent": 0.02,
        "pricePerEventByTier": {
          "FREE": 0.02,
          "BRONZE": 0.018,
          "SILVER": 0.015,
          "GOLD": 0.012
        }
      }
    ]
  }
}
